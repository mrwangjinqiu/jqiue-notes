---
title: 计算机的语言：指令
category: 计算机基础
next: false
author: JQiue
---

要想计算机听从指挥，就必须使用计算机的语言，早期的计算机指令是通过打孔带编写的，因为当时的计算机不能够理解数字信号，到如今计算机也只能理解所谓的机器码，比如 0 和 1 组成的指令。

从硬件角度来看，CPU 就是一个超大规模集成电路，通过电路实现了加法，乘法各种处理逻辑

从软件角度来看，CPU 就是一个执行各种计算机指令的逻辑机器，这里的计算机指令就是机器语言

但是，不同的 CPU 能听懂的语言不一样，它们各自支持的语言就是两种不同的计算机指令集，所以在电脑上写的程序，复制粘贴到手机上肯定没法运行的。但是如果复制到另一个电脑就能够运行，因为这两台电脑的 CPU 有相同的指令集

::: tip 机器语言
二进制表示形式
:::

## 从高级语言转向低级语言

对于高级语言来说，通常需要编译器翻译成汇编语言，然后通过汇编器翻译成机器语言来交给计算机执行，这是一个日常开发程序的过程

## 指令的形式

机器指令主要由两部分组成：操作码和地址码

+ 操作码指明指令要完成的操作，操作码的位数反映了机器的操作种类，比如 2^8^ 决定了操作码可以完成 256 次操作
+ 地址码用来指出操作数或操作数的地址，使 CPU 找到数据的地址进行相关运算

地址码又分为：三地址指令、二地址指令、一地址指令、零地址指令

+ 三地址指令：有三个地址码，将操作结果放入另外一个地址
+ 二地址指令：有两个地址码，将操作结果放入其中一个地址
+ 一地址指令：有一个地址码，对操作数自身进行操作并覆盖
+ 零地址指令：没有地址码，空操作，停机操作，中断返回操作等不需要操作数的操作

## 机器指令的操作类型

对于 CPU 来说，可以使用的指令很多，但大致可以分为五大类：

+ 算术类：加减乘除在 CPU 层面，都会变成一条条算术指令
+ 数据传输类：赋值变量，读写数据都是数据传输类指令完成的
+ 逻辑类：与或非
+ 条件分支类：if/else
+ 无条件跳转类：函数或者方法

不同的 CPU 有不同的指令集，也就对应着不同的汇编语言和不同的机器码

## 寻址方式

存储器即可以存放数据，又可以存放指令，其在存储单元中的编号就是地址。

### 指令寻址

1. 顺序寻址：指令地址在内存中按顺序排列，按一条指令接一条指令的顺序进行
2. 跳跃寻址：指下条指令的地址码不是计数器给的，而是由当前指令给出，跳转到某个位置开始进行

### 数据寻址

1. 立即寻址：指令直接获得操作数，地址字段指出的不是操作数的地址，而是操作数本身，特点是操作数立即可用，节省了访问内存的时间，但限制了操作数表示范围
2. 直接寻址：直接给出操作数在主存的地址 寻找方式简单，无需计算数据地址，但限制了操作数寻址范围
3. 间接寻址：给出的是操作数地址的地址，需要访问一次或多次主存来获取操作数，操作数寻址范围大，但速度较慢
