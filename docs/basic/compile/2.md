---
title: 正则文法和有限自动机
category: 计算机基础
author: JQiue
---

词法分析的工作是将字符串提取出一个个 Token，并且是一边读取一边提取，打造手工词法分析器的过程，就是写出正则表达式，画出有限自动机，然后根据图形更加直观的写出解析代码的过程，比如解析`age >= 45`，需要根据一些规则来绘制有限自动机：

::: center
<img src="https://gitee.com/jqiue/img_upload/raw/master/images/compile_2_1.png"/>
:::

上图是一个严格意义上的有限自动机，它有五种状态：

1. 初始状态：刚启动词法分析，程序所处状态
2. 标识符状态：遇到第一个字符是字母时，就迁移到状态 2，后续字符是字母和数字时，继续保留在状态 2，不是就离开状态 2，并写下 Token，回到初试状态
3. 大于操作符状态：当第一个字符是`>`，进入状态 3，它是操作符中的一种情况：
4. 大于等于操作符状态：如果状态 3 的下一个字符是 `=`，就进入状态 4，变成 `>=`，它也是操作符的一种情况
5. 数字字面量状态：初始状态时，下一个字符是数字，进入状态 5，如果仍然是数字，继续保持在状态 5

单圈表示临时状态，双圈表示是一个合法的 Token
